---
pre-commit:
  parallel: true
  commands:
    test:
      glob: "*.rs"
      run: cargo test
    fmt:
      glob: "*.rs"
      run: cargo fmt --all -- --check
    tomlfmt:
      glob: "Cargo.toml"
      run: cargo tomlfmt --dryrun
    clippy:
      glob: "*.rs"
      run: cargo clippy
    typos:
      run: typos
    udeps:
      glob: "*.rs"
      run: cargo +nightly udeps
    actionlint:
      glob: "pull_request.yml"
      run: actionlint
# lefthook.yml

setup:
  parallel: false
  commands:
    fish:
      run: cp /vscode/scripts/path.fish ~/.config/fish/conf.d/
    aqua:
      run: aqua install
    db:
      run: sqlx database create && sqlx migrate run